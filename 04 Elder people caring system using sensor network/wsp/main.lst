C51 COMPILER V9.02   MAIN                                                                  03/02/2015 22:33:10 PAGE 1   


C51 COMPILER V9.02, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN ..\bin\main.obj
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE ..\app\main.c BROWSE INCDIR(..\drv\offchip_drivers\include;..\drv\onchip_dr
                    -ivers\include;..\app\include) DEBUG OBJECTEXTEND PRINT(.\main.lst) OBJECT(..\bin\main.obj)

line level    source

   1          
   2          /*Defining all Header files */
   3          
   4          #include<reg52.h>
   5          #include<lcd4bit.h>
   6          #include<delay.h>
   7          #include<adc.h>
   8          
   9          #define IN 1
  10          #define OUT 0
  11          #define OFF 0
  12          #define ON 1
  13          
  14          sbit BUZZER=P1^0;
  15          sbit M0=P1^1;
  16          sbit SMK=P3^0;
  17          
  18          
  19          unsigned char  smoke = 0;
  20          
  21          
  22          
  23          /*Program in AT89S52 will starts executes from here */
  24          
  25          
  26          
  27          
  28          void Main()
  29          {
  30   1      
  31   1      
  32   1              init_lcd();
  33   1              adc_init();
  34   1              lcd_clear();
  35   1              BUZZER = OUT;
  36   1              M0 = OUT;
  37   1              SMK = IN;
  38   1      
  39   1              SMK = 0;
  40   1              
  41   1              BUZZER = ON;
  42   1              M0 = ON;
  43   1              gotoxy_lcd(1, 1);
  44   1              print_lcd("  SMOKE DETECTOR ");
  45   1      
  46   1              
  47   1              delay_sec(1);
  48   1              lcd_clear();
  49   1              delay_ms(250);
  50   1              BUZZER = OFF;
  51   1              M0 = OFF;
  52   1              gotoxy_lcd(1, 1);
  53   1              print_lcd("SMOKE:   PPM");
  54   1              gotoxy_lcd(1, 2);
C51 COMPILER V9.02   MAIN                                                                  03/02/2015 22:33:10 PAGE 2   

  55   1              print_lcd("BUZZER:");
  56   1              
  57   1              
  58   1              while(1)
  59   1              {
  60   2                      
  61   2                      
  62   2                      smoke = adc_read(0,0,0);
  63   2                      
  64   2                      gotoxy_lcd(7, 1);
  65   2                      print_num_lcd(smoke);
  66   2                      
  67   2                      if(smoke>80 || SMK==1)
  68   2                      {
  69   3                              
  70   3                              BUZZER = ON; 
  71   3                              M0 = ON;
  72   3                              gotoxy_lcd(8, 2);
  73   3                              print_lcd("ON ");
  74   3                              delay_ms(250);
  75   3                              
  76   3                      }
  77   2                      else
  78   2                      {
  79   3                              BUZZER = OFF;
  80   3                              M0 = OFF;
  81   3                                      gotoxy_lcd(8, 2);
  82   3                                      print_lcd("OFF");
  83   3                      }
  84   2         }
  85   1      
  86   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    172    ----
   CONSTANT SIZE    =     47    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      1    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
